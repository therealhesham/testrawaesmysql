generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model homemaid {
  id                Int        @id @default(autoincrement())
  officeID          Int?
  Nationalitycopy   String?    @db.VarChar(255)
  Name              String?    @db.VarChar(255)
  Religion          String?    @db.VarChar(255)
  Passportnumber    String?    @db.VarChar(255)
  clientphonenumber String?    @db.VarChar(15)
  Picture           Json?
  ExperienceYears   String?    @db.VarChar(255)
  maritalstatus     String?    @db.VarChar(255)
  Experience        String?    @db.VarChar(255)
  dateofbirth       DateTime?
  Nationality       Json?
  age               Int?
  flag              Json?
  phone             String?    @db.VarChar(17)
  bookingstatus     String?    @db.VarChar(255)
  ages              String?    @db.VarChar(255)
  
  office            Office?    @relation(fields: [officeID], references: [id])
  NewOrder          neworder[]
  Client            Client[]
}

model Office {
  id         Int       @id @default(autoincrement())
  Officename String    @unique @db.VarChar(191)
  Location   String    @db.VarChar(191)
  phonenumber String   @db.VarChar(15)
  
  Homemaids  homemaid[]
}

model Client {
  id             Int        @id @default(autoincrement())
  isUser         Boolean?
  fullname       String?
  email          String?    @unique @db.VarChar(191)
  phonenumber    String?    @unique @db.VarChar(15)
  password       String?
  HomeMaidRecod  Int?
  createdat      DateTime?  @default(now())
  
  HomeMaid       homemaid?  @relation(fields: [HomeMaidRecod], references: [id])
  orders         neworder[]
  arrivals       arrivallist[]
}

model User {
  id            Int       @id @default(autoincrement())
  phonenumber   String?   @unique @db.VarChar(15)
  admin         Boolean?  @default(false)
  pictureurl    String?   @default("")
  username      String    @db.VarChar(191)
  password      String    @db.VarChar(191)
  role          String?   @default("قسم الاستقدام")
  idnumber      Int?      @unique
}

model FemalWorker {
  id                  Int       @id @default(autoincrement())
  clientname          String    @db.VarChar(191)
  insurance           String    @db.VarChar(191)
  musanedContract     String    @db.VarChar(191)
  visanumber          String    @db.VarChar(191)
  idnumber            String    @db.VarChar(191)
  mobilenumber       String    @db.VarChar(15)
  passportnumber      String    @db.VarChar(191)
  workername          String    @db.VarChar(191)
  age                 Int
  experience          String    @db.VarChar(191)
  contractstatus      String    @db.VarChar(191)
  city                String    @db.VarChar(191)
  orderDate           DateTime
  canceled            Boolean   @default(false)
  ended               Boolean   @default(false)
  externaloffice      String    @db.VarChar(191)
  nationality         String    @db.VarChar(191)
  externalmusanedcontract String @db.VarChar(191)
  visaordernumber     String    @db.VarChar(191)
  notes               String    @db.VarChar(191)
}

model neworder {
  id                 Int       @id @default(autoincrement())
  ClientName         String?   @db.VarChar(255)
  PhoneNumber        String?   @db.VarChar(15)
  clientID            Int?
  HomemaidId         Int?
  HomemaidIdCopy     Int?
  bookingstatus      String?   @db.VarChar(255)
  ReasonOfRejection  String?   @db.VarChar(255)
  Nationalitycopy    String?   @db.VarChar(255)
  Name               String?   @db.VarChar(255)
  Religion           String?   @db.VarChar(255)
  Passportnumber     String?   @db.VarChar(255)
  clientphonenumber  String   @db.VarChar(15) 
  Picture            Json?
  ExperienceYears    String?   @db.VarChar(255)
  maritalstatus      String?   @db.VarChar(255)
  Experience         String?   @db.VarChar(255)
  dateofbirth        DateTime?
  Nationality        Json?
  age                Int?
  flag               Json?
  phone              String?   @db.VarChar(15)
  ages               String?   @db.VarChar(255)
  createdAt          DateTime? @default(now())
  updatedAt          DateTime? @updatedAt
  updatedBy          String?

  client             Client?   @relation(fields: [clientID], references: [id])
  HomeMaid           homemaid? @relation(fields: [HomemaidId], references: [id])
  OrderStatus        OrderStatus[]
  arrivals        arrivallist[]
}

model OrderStatus {
  id        Int       @id @default(autoincrement())
  orderId   Int
  status    String    @db.VarChar(255)
  createdAt DateTime  @default(now())
  
  Order     neworder? @relation(fields: [orderId], references: [id])

  @@unique([orderId, status])
}

model MaleWorker {
  id                  Int       @id @default(autoincrement())
  clientname          String    @db.VarChar(191)
  insurance           String    @db.VarChar(191)
  musanedContract     String    @db.VarChar(191)
  visanumber          String    @db.VarChar(191)
  idnumber            String    @db.VarChar(191)
  mobilenumber        String    @db.VarChar(15)
  passportnumber      String    @db.VarChar(191)
  workername          String    @db.VarChar(191)
  canceled            Boolean   @default(false)
  ended               Boolean   @default(false)
  age                 Int
  job                 String    @db.VarChar(191)
  experience          String    @db.VarChar(191)
  contractstatus      String    @db.VarChar(191)
  city                String    @db.VarChar(191)
  orderDate           DateTime
  externaloffice      String    @db.VarChar(191)
  nationality         String    @db.VarChar(191)
  externalmusanedcontract String @db.VarChar(191)
  visaordernumber     String    @db.VarChar(191)
  notes               String    @db.VarChar(191)
}

model arrivallist {
  id                        Int       @id @default(autoincrement())
  SponsorName               String?   @db.VarChar(191)
  InternalmusanedContract   String?   @db.VarChar(191)
  externalmusanedContract String?  @db.VarChar(191)
externalmusanadcontractfile String? @db.VarChar(191)
externalOfficeStatus        String?@db.VarChar(25)
  SponsorIdnumber           Int?
  Sponsor                   Client?   @relation(fields: [SponsorIdnumber], references: [id])
  OrderId                   Int?       
  Order                     neworder?  @relation(fields: [OrderId], references: [id])
DeliveryDate              DateTime?
finaldestination          String?
deparatureDate            DateTime?
ExternalStatusByoffice    String?
finalDestinationDate      DateTime?
DeliveryFile           String?      @db.VarChar(191)
  SponsorPhoneNumber        String?   @db.VarChar(15)
  PassportNumber            String?   @db.VarChar(191)
  KingdomentryDate          DateTime?
  WorkDuration              String?   @db.VarChar(191)
  Cost                      String?   @db.VarChar(191)
  HomemaIdnumber            Int?
  HomemaidName              String?   @db.VarChar(191)
  Notes                     String?   @db.VarChar(191)
  ArrivalCity               String?   @db.VarChar(191)
  MusanadDuration           String?   @db.VarChar(191)
  DateOfApplication         DateTime?
  DayDate                   DateTime? @default(now())
  ExternalDateLinking       DateTime?
  ExternalOFficeApproval    DateTime?
  AgencyDate                DateTime?
  EmbassySealing            DateTime?
  externalOfficeFile        String?   @db.VarChar(191)
  BookinDate                DateTime?
  GuaranteeDurationEnd      DateTime?
  medicalCheckFile          String?   @db.VarChar(191)
  ticketFile                String?   @db.VarChar(191)
  receivingFile             String?   @db.VarChar(191)
  approvalPayment           String?   @db.VarChar(191)
  additionalfiles           Json?
  
}

model Transfer {
  id                    Int       @id @default(autoincrement())
  client                String?   @db.VarChar(191)
  mobilenumber          String?   @db.VarChar(15)
  nationalidnumber      String?   @db.VarChar(191)
  passportnumber        String?   @db.VarChar(191)
  homemaid              String?   @db.VarChar(191)
  nationality           String?   @db.VarChar(191)
  kingdomentrydate      String?   @db.VarChar(191)
  daydate               DateTime?
  workduration          Int?
  newclientname         String?   @db.VarChar(191)
  newclientmobilenumber String?   @db.VarChar(15)
  newclientnationalidnumber String? @db.VarChar(191)
  newclientcity         String?   @db.VarChar(191)
  experimentstart       String?   @db.VarChar(191)
  experimentend         String?   @db.VarChar(191)
  dealcost              String?   @db.VarChar(191)
  paid                  String?   @db.VarChar(191)
  restofpaid            String?   @db.VarChar(191)
  experimentresult      String?   @db.VarChar(191)
  accomaditionnumber    String?   @db.VarChar(191)
  marketeername         String?   @db.VarChar(191)
  notes                 String?   @db.VarChar(191)
}
