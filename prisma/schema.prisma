// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
 

  url      =env("DATABASE_URL")

}
model homemaid {
  id                Int   @id @default(autoincrement())
  Nationalitycopy   String? @db.VarChar(1024)
  Name              String? @db.VarChar(1024)
  Religion          String? @db.VarChar(1024)
  Office         Office?  @relation(fields: [officeID],references: [id]) 
officeID            Int?

  Passportnumber    String? @db.VarChar(1024)
  clientphonenumber String? @db.VarChar(1024)
  Picture           Json?
  
  ExperienceYears   String? @db.VarChar(1024)
  maritalstatus     String? @db.VarChar(1024)
  Experience        String? @db.VarChar(1024)
  dateofbirth       String? @db.VarChar(1024)
  Nationality       Json?
  age               Int?
  flag              Json?
  phone             String? @db.VarChar(1024)
  bookingstatus     String? @db.VarChar(1024)
  ages              String? @db.VarChar(1024)
NewOrder      neworder[]
Client        Client[]
}

model Office{
  id                Int   @id @default(autoincrement())
  Officename        String  @unique
  Location           String    
  phonenumber     String
  Homemaids     homemaid[]



}


model Client{

  id                Int   @id @default(autoincrement())
  isUser          Boolean?
  fullname        String? 
  email           String? @unique
  phonenumber     String? @unique
  password        String ?
HomeMaidRecod     Int?        
  HomeMaid        homemaid?  @relation(fields: [HomeMaidRecod],references: [id])
  createdat       DateTime? @default(now())
  orders          neworder[]  
  arrivals        arrivallist[]
  }
model User {
  phonenumber     Int? @unique
  id                Int   @id @default(autoincrement())

  admin           Boolean? @default(false)    
  pictureurl      String ?   @default("")
  username        String
  password        String
  role            String? @default("قسم الاستقدام")
  idnumber        Int  ? @unique
}

model FemalWorker {

  id                Int   @id @default(autoincrement())
clientname        String
insurance         String
musanedContract    String
visanumber         String
idnumber          String
mobilenumber      Int
passportnumber    String
workername        String
age               Int
experience            String
contractstatus         String  
city                   String
orderDate           DateTime  

canceled            Boolean @default(false)
ended               Boolean @default(false)

externaloffice      String
nationality         String
externalmusanedcontract String
visaordernumber     String
notes           String

}

model neworder{
  id                Int   @id @default(autoincrement())
ClientName          String
PhoneNumber         String
clientID              Int?
HomemaidId            Int?
Client              Client? @relation(fields: [clientID],references: [id])

HomeMaid             homemaid?  @relation(fields: [HomemaidId],references: [id])


    bookingstatus     String? @db.VarChar(1024)
ReasonOfRejection    String?  
  Nationalitycopy   String? @db.VarChar(1024)
  Name              String? @db.VarChar(1024)
  Religion          String? @db.VarChar(1024)
  Passportnumber    String? @db.VarChar(1024)
  clientphonenumber String? @db.VarChar(1024)
  Picture           Json?
  ExperienceYears   String? @db.VarChar(1024)
  maritalstatus     String? @db.VarChar(1024)
  Experience        String? @db.VarChar(1024)
  dateofbirth       String? @db.VarChar(1024)
  Nationality       Json?
  age               Int?
  flag              Json?
  phone             String? @db.VarChar(1024)
  ages              String? @db.VarChar(1024)
  createdAt    DateTime? @default(now()) 
  updatedAt    DateTime? @updatedAt 
updatedBy   String?

}

model MaleWorker {

  id                Int   @id @default(autoincrement())
clientname        String
insurance         String
musanedContract    String
visanumber         String
idnumber          String
mobilenumber      Int
passportnumber    String
workername        String
canceled            Boolean @default(false)
ended               Boolean @default(false)
age               Int
job                String
experience            String
contractstatus         String  
city                   String
orderDate           DateTime
externaloffice      String
nationality         String
externalmusanedcontract String
visaordernumber     String
notes           String


}

model arrivallist {

  id                Int   @id @default(autoincrement())

SponsorName       String?
InternalmusanedContract       String?
SponsorIdnumber              Int?
Sponsor                   Client? @relation(fields: [SponsorIdnumber],references: [id])

SponsorPhoneNumber                String?
PassportNumber                String?
KingdomentryDate              String?
WorkDuration                  String
Cost                          String
HomemaIdnumber                Int
HomemaidName                  String


Notes                         String
ArrivalCity                   String
MusanadDuration               String
DateOfApplication             DateTime
DayDate                       DateTime @default(now())
ExternalDateLinking           DateTime
ExternalOFficeApproval        DateTime
AgencyDate                    DateTime
EmbassySealing                DateTime
BookinDate                    DateTime
GuaranteeDurationEnd          DateTime 

 medicalCheckFile              String?
      ticketFile               String?
      receivingFile       String?
      approvalPayment     String?
      additionalfiles     Json?


}


model Transfer{
  id                Int   @id @default(autoincrement())
client            String?
mobilenumber      String?
nationalidnumber  String?
passportnumber    String?
homemaid          String?
nationality       String?
kingdomentrydate  String?
daydate           DateTime? 
workduration      Int?
newclientname     String?
newclientmobilenumber String?
newclientnationalidnumber String?
newclientcity     String?
experimentstart   String?
experimentend   String?
dealcost        String?
paid            String?
restofpaid      String?
experimentresult  String?
accomaditionnumber  String?

marketeername String?

notes     String?






}










