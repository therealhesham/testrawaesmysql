# Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø§Ù„ÙŠ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ - ÙˆØµÙ„ Ù„Ù„Ø§Ø³ØªÙ‚Ø¯Ø§Ù…

## Ø§Ù„ØªØ­Ø¯ÙŠØ«Ø§Øª Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©

### 1. **ØªØ±ØªÙŠØ¨ Ø¢Ø®Ø± 6 Ø£Ø´Ù‡Ø± ÙÙŠ Ø§Ù„Ø³Ù†Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©** âœ…
- Ø¹Ø±Ø¶ Ø¢Ø®Ø± 6 Ø£Ø´Ù‡Ø± Ø¨Ø§Ù„ØªØ±ØªÙŠØ¨ Ø§Ù„ØµØ­ÙŠØ­ ÙÙŠ Ø§Ù„Ø³Ù†Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©
- Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ø´Ù‡Ø± Ø§Ù„Ø­Ø§Ù„ÙŠ Ù‡Ùˆ Ø¯ÙŠØ³Ù…Ø¨Ø±ØŒ ÙŠØ¹Ø±Ø¶: ÙŠÙˆÙ„ÙŠÙˆØŒ Ø£ØºØ³Ø·Ø³ØŒ Ø³Ø¨ØªÙ…Ø¨Ø±ØŒ Ø£ÙƒØªÙˆØ¨Ø±ØŒ Ù†ÙˆÙÙ…Ø¨Ø±ØŒ Ø¯ÙŠØ³Ù…Ø¨Ø±
- Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ø´Ù‡Ø± Ø§Ù„Ø­Ø§Ù„ÙŠ Ù‡Ùˆ ÙŠÙ†Ø§ÙŠØ±ØŒ ÙŠØ¹Ø±Ø¶: Ø£ØºØ³Ø·Ø³ØŒ Ø³Ø¨ØªÙ…Ø¨Ø±ØŒ Ø£ÙƒØªÙˆØ¨Ø±ØŒ Ù†ÙˆÙÙ…Ø¨Ø±ØŒ Ø¯ÙŠØ³Ù…Ø¨Ø± (Ø§Ù„Ø³Ù†Ø© Ø§Ù„Ù…Ø§Ø¶ÙŠØ©)ØŒ ÙŠÙ†Ø§ÙŠØ±

### 2. **Ø§Ù„Ø§Ø¬Ù…Ø§Ù„ÙŠ Ù„Ù„Ø³Ù†Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ© ÙƒÙ„Ù‡Ø§** âœ…
- Ø§Ù„Ø§Ø¬Ù…Ø§Ù„ÙŠ ÙˆØ§Ù„Ù…ØªÙˆØ³Ø· ÙŠØ­Ø³Ø¨ Ù…Ù† Ø§Ù„Ø³Ù†Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ© ÙƒØ§Ù…Ù„Ø© (12 Ø´Ù‡Ø±)
- Ø§Ù„Ø¹Ø±Ø¶ ÙŠØ¹Ø±Ø¶ Ø¢Ø®Ø± 6 Ø£Ø´Ù‡Ø± ÙÙ‚Ø·
- Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª ØªØ¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ø³Ù†Ø© Ø§Ù„ÙƒØ§Ù…Ù„Ø©

### 3. **Ø¥ØµÙ„Ø§Ø­ ØªØµÙ…ÙŠÙ… Ø§Ù„Ø¬Ø¯ÙˆÙ„** âœ…
- Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø­Ø§Ø°ÙŠØ© Ù„Ù„ÙŠÙ…ÙŠÙ† (`text-right`)
- Ù„Ø§ ÙŠÙˆØ¬Ø¯ ØªØ²Ø­Ø²Ø­ ÙÙŠ Ø§Ù„ØªØµÙ…ÙŠÙ…
- Main Category Ùˆ Sub Category ÙƒÙ„Ø§Ù‡Ù…Ø§ Ù…Ø­Ø§Ø°ÙŠ Ù„Ù„ÙŠÙ…ÙŠÙ†

## Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø­Ø¯Ø«Ø©

### 1. **`pages/api/income-statements/calculations.ts`**

#### ØªØ±ØªÙŠØ¨ Ø§Ù„Ø´Ù‡ÙˆØ± Ø§Ù„ØµØ­ÙŠØ­:
```typescript
// Get last 6 months of current year for UI display (in order)
const today = new Date();
const currentYear = today.getFullYear();
const currentMonth = today.getMonth() + 1; // 1-based month
const months: string[] = [];

// Get last 6 months in chronological order
for (let i = 5; i >= 0; i--) {
  const monthIndex = currentMonth - i;
  if (monthIndex > 0) {
    months.push(`${currentYear}-${monthIndex.toString().padStart(2, '0')}`);
  } else {
    // Previous year month
    const prevYear = currentYear - 1;
    const prevMonth = 12 + monthIndex;
    months.push(`${prevYear}-${prevMonth.toString().padStart(2, '0')}`);
  }
}
```

#### Ø§Ù„Ø§Ø¬Ù…Ø§Ù„ÙŠ Ù„Ù„Ø³Ù†Ø© Ø§Ù„ÙƒØ§Ù…Ù„Ø©:
```typescript
// Initialize monthly data for all months (full year for totals)
allMonths.forEach(month => {
  monthlyData[mainCat.name][month] = 0;
});

// Calculate averages based on full year
Object.keys(categoryTotals).forEach(cat => {
  categoryAverages[cat] = categoryCounts[cat] > 0 ? categoryTotals[cat] / allMonths.length : 0;
});
```

### 2. **`pages/admin/incomestatments-updated.tsx`**

#### Ù…Ø­Ø§Ø°Ø§Ø© Ù„Ù„ÙŠÙ…ÙŠÙ†:
```typescript
// Ù‚Ø¨Ù„ Ø§Ù„ØªØ­Ø¯ÙŠØ«: text-center
<td className="p-3 text-center text-base font-medium">{formatCurrency(average)}</td>

// Ø¨Ø¹Ø¯ Ø§Ù„ØªØ­Ø¯ÙŠØ«: text-right
<td className="p-3 text-right text-base font-medium">{formatCurrency(average)}</td>
```

#### Sub Category Ù…Ø­Ø§Ø°ÙŠ Ù„Ù„ÙŠÙ…ÙŠÙ†:
```typescript
// Ù‚Ø¨Ù„ Ø§Ù„ØªØ­Ø¯ÙŠØ«: text-center
<span className="text-[16px] font-normal text-[#1F2937] min-w-[60px] text-center">{formatCurrency(data[month] || 0)}</span>

// Ø¨Ø¹Ø¯ Ø§Ù„ØªØ­Ø¯ÙŠØ«: text-right
<span className="text-[16px] font-normal text-[#1F2937] min-w-[60px] text-right">{formatCurrency(data[month] || 0)}</span>
```

### 3. **`pages/admin/incomestatments.tsx`**

#### ØªØ±ØªÙŠØ¨ Ø§Ù„Ø´Ù‡ÙˆØ± Ø§Ù„ØµØ­ÙŠØ­:
```typescript
// Get last 6 months of current year for UI display (in order)
const today = new Date();
const currentYear = today.getFullYear();
const currentMonth = today.getMonth() + 1; // 1-based month
const months: string[] = [];

// Get last 6 months in chronological order
for (let i = 5; i >= 0; i--) {
  const monthIndex = currentMonth - i;
  if (monthIndex > 0) {
    months.push(`${currentYear}-${monthIndex.toString().padStart(2, '0')}`);
  } else {
    // Previous year month
    const prevYear = currentYear - 1;
    const prevMonth = 12 + monthIndex;
    months.push(`${prevYear}-${prevMonth.toString().padStart(2, '0')}`);
  }
}
```

#### Ù…Ø­Ø§Ø°Ø§Ø© Ù„Ù„ÙŠÙ…ÙŠÙ†:
```typescript
// Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø®Ù„Ø§ÙŠØ§ Ù…Ø­Ø§Ø°ÙŠØ© Ù„Ù„ÙŠÙ…ÙŠÙ†
<td className="p-3 text-right text-base font-medium">{formatCurrency(data.average || 0)}</td>
<td className="p-3 text-right text-base font-medium">{formatCurrency(data.total || 0)}</td>
<td key={i} className="p-3 text-right text-base font-medium">{formatCurrency(data[month] || 0)}</td>
```

## Ù…Ø«Ø§Ù„ Ø¹Ù„Ù‰ ØªØ±ØªÙŠØ¨ Ø§Ù„Ø´Ù‡ÙˆØ±

### Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ø´Ù‡Ø± Ø§Ù„Ø­Ø§Ù„ÙŠ Ù‡Ùˆ Ø¯ÙŠØ³Ù…Ø¨Ø± 2024:
```
Ø§Ù„Ø¹Ø±Ø¶: ÙŠÙˆÙ„ÙŠÙˆ 2024ØŒ Ø£ØºØ³Ø·Ø³ 2024ØŒ Ø³Ø¨ØªÙ…Ø¨Ø± 2024ØŒ Ø£ÙƒØªÙˆØ¨Ø± 2024ØŒ Ù†ÙˆÙÙ…Ø¨Ø± 2024ØŒ Ø¯ÙŠØ³Ù…Ø¨Ø± 2024
Ø§Ù„Ø§Ø¬Ù…Ø§Ù„ÙŠ: Ù…Ù† ÙŠÙ†Ø§ÙŠØ± 2024 Ø¥Ù„Ù‰ Ø¯ÙŠØ³Ù…Ø¨Ø± 2024 (12 Ø´Ù‡Ø±)
```

### Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ø´Ù‡Ø± Ø§Ù„Ø­Ø§Ù„ÙŠ Ù‡Ùˆ ÙŠÙ†Ø§ÙŠØ± 2025:
```
Ø§Ù„Ø¹Ø±Ø¶: Ø£ØºØ³Ø·Ø³ 2024ØŒ Ø³Ø¨ØªÙ…Ø¨Ø± 2024ØŒ Ø£ÙƒØªÙˆØ¨Ø± 2024ØŒ Ù†ÙˆÙÙ…Ø¨Ø± 2024ØŒ Ø¯ÙŠØ³Ù…Ø¨Ø± 2024ØŒ ÙŠÙ†Ø§ÙŠØ± 2025
Ø§Ù„Ø§Ø¬Ù…Ø§Ù„ÙŠ: Ù…Ù† ÙŠÙ†Ø§ÙŠØ± 2025 Ø¥Ù„Ù‰ Ø¯ÙŠØ³Ù…Ø¨Ø± 2025 (12 Ø´Ù‡Ø±)
```

### Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ø´Ù‡Ø± Ø§Ù„Ø­Ø§Ù„ÙŠ Ù‡Ùˆ Ù…Ø§Ø±Ø³ 2024:
```
Ø§Ù„Ø¹Ø±Ø¶: Ø£ÙƒØªÙˆØ¨Ø± 2023ØŒ Ù†ÙˆÙÙ…Ø¨Ø± 2023ØŒ Ø¯ÙŠØ³Ù…Ø¨Ø± 2023ØŒ ÙŠÙ†Ø§ÙŠØ± 2024ØŒ ÙØ¨Ø±Ø§ÙŠØ± 2024ØŒ Ù…Ø§Ø±Ø³ 2024
Ø§Ù„Ø§Ø¬Ù…Ø§Ù„ÙŠ: Ù…Ù† ÙŠÙ†Ø§ÙŠØ± 2024 Ø¥Ù„Ù‰ Ø¯ÙŠØ³Ù…Ø¨Ø± 2024 (12 Ø´Ù‡Ø±)
```

## ÙÙˆØ§Ø¦Ø¯ Ø§Ù„ØªØ­Ø¯ÙŠØ«Ø§Øª Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©

### 1. **ØªØ±ØªÙŠØ¨ Ù…Ù†Ø·Ù‚ÙŠ Ù„Ù„Ø´Ù‡ÙˆØ±**
- Ø¹Ø±Ø¶ Ø¢Ø®Ø± 6 Ø£Ø´Ù‡Ø± Ø¨Ø§Ù„ØªØ±ØªÙŠØ¨ Ø§Ù„ØµØ­ÙŠØ­
- Ø³Ù‡ÙˆÙ„Ø© ÙÙ‡Ù… Ø§Ù„Ø§ØªØ¬Ø§Ù‡Ø§Øª Ø§Ù„Ù…Ø§Ù„ÙŠØ©
- Ø¹Ø±Ø¶ Ù…ØªØ³Ù‚ ÙˆÙ…Ù†Ø·Ù‚ÙŠ

### 2. **Ø­Ø³Ø§Ø¨Ø§Øª Ø¯Ù‚ÙŠÙ‚Ø©**
- Ø§Ù„Ø§Ø¬Ù…Ø§Ù„ÙŠ ÙŠØ¹ÙƒØ³ Ø§Ù„Ø³Ù†Ø© Ø§Ù„ÙƒØ§Ù…Ù„Ø©
- Ø§Ù„Ù…ØªÙˆØ³Ø· ÙŠØ­Ø³Ø¨ Ù…Ù† 12 Ø´Ù‡Ø±
- Ø¨ÙŠØ§Ù†Ø§Øª Ø£ÙƒØ«Ø± Ø¯Ù‚Ø© Ù„Ù„ØªØ­Ù„ÙŠÙ„

### 3. **ØªØµÙ…ÙŠÙ… Ù…Ø­Ø³Ù†**
- Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø­Ø§Ø°ÙŠØ© Ù„Ù„ÙŠÙ…ÙŠÙ†
- Ù„Ø§ ÙŠÙˆØ¬Ø¯ ØªØ²Ø­Ø²Ø­ ÙÙŠ Ø§Ù„ØªØµÙ…ÙŠÙ…
- Ø¹Ø±Ø¶ Ù†Ø¸ÙŠÙ ÙˆÙ…Ù†Ø¸Ù…

### 4. **ØªØ¬Ø±Ø¨Ø© Ù…Ø³ØªØ®Ø¯Ù… Ø£ÙØ¶Ù„**
- Ø¹Ø±Ø¶ Ø³Ù‡Ù„ Ø§Ù„Ù‚Ø±Ø§Ø¡Ø©
- ØªØ±ØªÙŠØ¨ Ù…Ù†Ø·Ù‚ÙŠ Ù„Ù„Ø¨ÙŠØ§Ù†Ø§Øª
- ØªØµÙ…ÙŠÙ… Ù…ØªØ³Ù‚

## ÙƒÙŠÙÙŠØ© Ø¹Ù…Ù„ Ø§Ù„Ù†Ø¸Ø§Ù…

### 1. **Ø­Ø³Ø§Ø¨ Ø§Ù„Ø´Ù‡ÙˆØ±**
```typescript
// Ø§Ù„Ù†Ø¸Ø§Ù… ÙŠØ­Ø³Ø¨ Ø¢Ø®Ø± 6 Ø£Ø´Ù‡Ø± Ø¨Ø§Ù„ØªØ±ØªÙŠØ¨
const currentMonth = today.getMonth() + 1; // 1-based
for (let i = 5; i >= 0; i--) {
  const monthIndex = currentMonth - i;
  // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø´Ù‡Ø± Ø§Ù„Ù…Ù†Ø§Ø³Ø¨
}
```

### 2. **Ø­Ø³Ø§Ø¨ Ø§Ù„Ø§Ø¬Ù…Ø§Ù„ÙŠ**
```typescript
// Ø§Ù„Ø§Ø¬Ù…Ø§Ù„ÙŠ ÙŠØ­Ø³Ø¨ Ù…Ù† Ø§Ù„Ø³Ù†Ø© Ø§Ù„ÙƒØ§Ù…Ù„Ø©
allMonths.forEach(month => {
  monthlyData[mainCat.name][month] = 0;
});

// Ø§Ù„Ù…ØªÙˆØ³Ø· ÙŠØ­Ø³Ø¨ Ù…Ù† 12 Ø´Ù‡Ø±
categoryAverages[cat] = categoryTotals[cat] / allMonths.length;
```

### 3. **Ø¹Ø±Ø¶ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª**
```typescript
// Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø®Ù„Ø§ÙŠØ§ Ù…Ø­Ø§Ø°ÙŠØ© Ù„Ù„ÙŠÙ…ÙŠÙ†
<td className="p-3 text-right text-base font-medium">
  {formatCurrency(data[month] || 0)}
</td>
```

## Ù…Ù„Ø§Ø­Ø¸Ø§Øª ØªÙ‚Ù†ÙŠØ©

- **Month Calculation**: Ø­Ø³Ø§Ø¨ Ø¯Ù‚ÙŠÙ‚ Ù„Ø¢Ø®Ø± 6 Ø£Ø´Ù‡Ø± Ø¨Ø§Ù„ØªØ±ØªÙŠØ¨
- **Totals Calculation**: ÙŠØ¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ø³Ù†Ø© Ø§Ù„ÙƒØ§Ù…Ù„Ø©
- **Text Alignment**: Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø­Ø§Ø°ÙŠØ© Ù„Ù„ÙŠÙ…ÙŠÙ†
- **Type Safety**: Ø¥ØµÙ„Ø§Ø­ Ø£Ø®Ø·Ø§Ø¡ TypeScript
- **Performance**: Ø­Ø³Ø§Ø¨Ø§Øª Ù…Ø­Ø³Ù†Ø© ÙˆØ£Ø¯Ø§Ø¡ Ø£ÙØ¶Ù„

Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø¢Ù† ÙŠØ¹Ø±Ø¶ Ø¢Ø®Ø± 6 Ø£Ø´Ù‡Ø± Ø¨Ø§Ù„ØªØ±ØªÙŠØ¨ Ø§Ù„ØµØ­ÙŠØ­ØŒ Ù…Ø¹ Ø§Ù„Ø§Ø¬Ù…Ø§Ù„ÙŠ Ù„Ù„Ø³Ù†Ø© Ø§Ù„ÙƒØ§Ù…Ù„Ø©ØŒ ÙˆØªØµÙ…ÙŠÙ… Ù…Ø­Ø§Ø°ÙŠ Ù„Ù„ÙŠÙ…ÙŠÙ†! ğŸ‰
